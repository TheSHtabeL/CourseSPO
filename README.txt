Имеется общая память на 2 Кбайта
За один заход заполняется буфер на 1 Кбайт из файла

Одновременные события:
1. Из файла читается 1 Кбайт в буфер в динамической памяти
2. В другой файл пишется 1 Кбайт (пишется напрямую из общей памяти 
без использования буфера)

Когда цикл закончен, к разделяемой памяти получает доступ первая нить 
и пишет в него свой буфер

Критические секции: разделяемая память - критический интервал
Сначала в КС находится нить записи. Она пишет из памяти в файл информацию,
чтобы скорее освободить КС
После этого память можно перезаписывать. К этому моменту информация
должна быть считана из файла, обработана и записана в разделяемую память
В память записывается значение последнего буфера

1025-байт - байт-сигнал о том, что файл окончен. Последняя обработка будет
происходить вне цикла